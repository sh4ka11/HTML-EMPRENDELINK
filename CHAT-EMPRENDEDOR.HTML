<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emprende Link - Chat</title>
    <link rel="icon" href="img/logoCuadrado.png" type="image/png">

    <link rel="stylesheet" href="CSS/CHAT-EMPRENDEDOR.CSS">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div id="header"></div>

  <script>
  // Cargar el contenido del navbar
  fetch('navbarUsuario.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header').innerHTML = data;
      
      // Asegúrate de que el JS de Bootstrap esté disponible
      const bootstrapScript = document.createElement('script');
      bootstrapScript.src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js";
      document.body.appendChild(bootstrapScript);
    });
  </script>
    
    <main>
        <aside class="sidebar">
            <input type="text" id="searchInput" placeholder="Buscar...">
                        <a href="ListaUsuarios.html"><button class="new-contact"><i class="fas fa-plus"></i> Nuevo Contacto</button></a>
            <ul class="contacts">
                <li>
                    <img src="LINK/PERFIL-0.png" alt="Kevin targaryen">
                    <div>
                        <span>Kevin targaryen</span>
                        <p>Mensaje</p>
                    </div>
                </li>
                <li>
                    <img src="LINK/PERFIL-1.png" alt="Kevin Alexis">
                    <div>
                        <span>Kevin Alexis</span>
                        <p>Mensaje</p>
                    </div>
                </li>
                <li>
                    <img src="LINK/PERFIL-2.png" alt="Cristian sebastian">
                    <div>
                        <span>Cristian sebastian</span>
                        <p>Mensaje</p>
                    </div>
                </li>
                <li>
                    <img src="LINK/PERFIL-3.png" alt="Monica Galindo">
                    <div>
                        <span>Monica Galindo</span>
                        <p>Mensaje</p>
                    </div>
                </li>
                <li>
                    <img src="LINK/PERFIL-4.png" alt="Alexa calvache">
                    <div>
                        <span>Alexa calvache</span>
                        <p>Mensaje</p>
                    </div>
                </li>
                <li>
                    <img src="LINK/PERFIL-5.png" alt="Stiven Godoy">
                    <div>
                        <span>Stiven Godoy</span>
                        <p>Mensaje</p>
                    </div>
                </li>
                <li>
                    <img src="LINK/PERFIL-6.png" alt="Carlos sebastian">
                    <div>
                        <span>Carlos sebastian</span>
                        <p>Mensaje</p>
                    </div>
                </li>
            </ul>
        </aside>
        
        <section class="chat">
            <div class="chat-header">
                <img src="LINK/PERFIL-0.png" alt="Kevin targaryen">
                <div class="chat-info">
                    <h2>Kevin targaryen</h2>
                    <p>miguelbombilla@gmail.com</p>
                    <a href="#">Mas Información...</a>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message received">
                    <p>Estoy disponible <br>[Disponibilidad del inversor].</p>
                    <span>4:18 PM</span>
                </div>
                <div class="message sent">
                    <p>Sí, perfecto.</p>
                    <span>4:18 PM</span>
                </div>
                <div class="message received">
                    <p>¡Genial! Espero con interés hablar con usted con más detalle.</p>
                    <span>4:18 PM</span>
                </div>
                <div class="message sent">
                    <p>Le enviaré un correo electrónico para confirmar la fecha y hora.</p>
                    <span>4:18 PM</span>
                </div>
                <div class="message received">
                    <p>Gracias, Buena tarde.</p>
                    <span>4:20 PM</span>
                </div>
            </div>
            
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="Escribe tu mensaje...">
                <button id="sendButton">Enviar</button>
            </div>
        </section>
    </main>
    
    

        <!-- Menú lateral -->
<aside class="sidebar-1">
    <div class="profile-1">
        <img src="LINK/PERFIL-2.png" alt="User">
        <br>
        <span>Cristian sebastian</span>
        <a href="mailto:esdp@gmail.com">esdp@gmail.com</a>
    </div>
    <ul>
        <li><a href="HOME.HTML">Inicio</a></li>
        <li><a href="perfilUsaurio.html">Perfil</a></li>
        <li><a href="busqueda_filtro.html">Busqueda por categoría</a></li>
        <li><a href="ListaUsuarios.html">Consultar Lista</a></li>
        <li><a href="ListaMisEmprendiientos.HTML">Mis emprendimientos</a></li>
        <li><a href="publicarEmprendimiento.html">Publicar Emprendimiento</a></li>
        <li><a href="CHAT-EMPRENDEDOR.HTML">Chat</a></li>
        <li><a href="index.html">Cerrar Sesión</a></li>
    </ul>
    </aside>

<script>
    document.querySelector('.barra').addEventListener('click', function() {
   this.classList.toggle('active');
   document.querySelector('.sidebar-1').classList.toggle('active');
});

   document.querySelectorAll('.accordion-button').forEach(button => {
       button.addEventListener('click', () => {
           const accordionContent = button.nextElementSibling;
           button.classList.toggle('active');

           if (button.classList.contains('active')) {
               accordionContent.style.maxHeight = accordionContent.scrollHeight + 'px';
           } else {
               accordionContent.style.maxHeight = 0;
           }
       });
   });

     /* chat.js */
document.addEventListener('DOMContentLoaded', function() {
    const chatMessages = document.getElementById('chatMessages');
    const messageInput = document.getElementById('messageInput');
    const sendButton = document.getElementById('sendButton');

    function addMessage(message, isSent) {
        const messageElement = document.createElement('div');
        messageElement.className = `message ${isSent ? 'sent' : 'received'}`;
        
        const paragraph = document.createElement('p');
        paragraph.textContent = message;
        
        const timestamp = document.createElement('span');
        timestamp.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        
        messageElement.appendChild(paragraph);
        messageElement.appendChild(timestamp);
        
        chatMessages.appendChild(messageElement);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function sendMessage() {
        const message = messageInput.value.trim();
        if (message) {
            addMessage(message, true);
            messageInput.value = '';
            
            // Simulate received message (remove in production)
            setTimeout(() => {
                addMessage("bien", false);
            }, 1000);
            setTimeout(() => {
                addMessage("bueno", false);
            }, 2000);
        }
    }

    sendButton.addEventListener('click', sendMessage);
    
    messageInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });
});
            // buscar filtro

document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    const contactsList = document.querySelector('.contacts');
    const contacts = contactsList.querySelectorAll('li');

    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();

        contacts.forEach(contact => {
            const name = contact.querySelector('span').textContent.toLowerCase();
            const message = contact.querySelector('p').textContent.toLowerCase();

            if (name.includes(searchTerm) || message.includes(searchTerm)) {
                contact.style.display = '';
            } else {
                contact.style.display = 'none';
            }
        });
    });
});
</script>



    

    
</body>
</html>

